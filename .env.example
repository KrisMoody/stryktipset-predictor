# Database connection
# Format: postgresql://user:password@host:port/database
# Note: If using connection pooling (pgbouncer), ensure parameters are compatible
# Example: postgresql://user:password@host:5432/dbname
DATABASE_URL=

# Supabase configuration
# @nuxtjs/supabase reads these automatically
SUPABASE_URL=
SUPABASE_KEY=                    # Publishable key (client-side safe, was SUPABASE_ANON_KEY)
SUPABASE_SERVICE_KEY=            # Secret key (server-side only, never expose to client)

# Auth configuration
ALLOWED_EMAILS=                  # Comma-separated list of allowed email addresses
AUTH_REDIRECT_URL=               # Set to http://localhost:3000 for local development (leave empty for production)

# AI API Keys
# Required for AI-powered predictions and embeddings
ANTHROPIC_API_KEY=
OPENAI_API_KEY=

# Svenska Spel API
SVENSKA_SPEL_API_BASE_URL=https://api.svenskaspel.se/draw/1

# Proxy configuration (optional)
PROXY_LIST=

# Scraper configuration
# Enable V3 scraper (hybrid AI + DOM)
ENABLE_SCRAPER_V3=true
# Enable AI scraping within V3
ENABLE_AI_SCRAPER=true
# AI Scraper service URL
AI_SCRAPER_URL=http://localhost:8000

# Bugsnag Error Reporting
# Get your API key from https://app.bugsnag.com/
BUGSNAG_API_KEY=
BUGSNAG_RELEASE_STAGE=development
BUGSNAG_SOURCE_MAPS_UPLOAD_ENABLED=false

# API-Football configuration
# Get your API key from https://www.api-football.com/ or https://rapidapi.com/api-sports/api/api-football
ENABLE_API_FOOTBALL=false
API_FOOTBALL_API_KEY=
API_FOOTBALL_BASE_URL=https://v3.football.api-sports.io
API_FOOTBALL_MAX_REQUESTS_PER_MINUTE=2
# Data enrichment (fetch statistics, H2H, injuries during match enrichment)
API_FOOTBALL_FETCH_DURING_ENRICHMENT=false
API_FOOTBALL_DATA_TYPES=statistics,headToHead,injuries
API_FOOTBALL_SKIP_SCRAPING_WHEN_AVAILABLE=false
# Enhanced data endpoints (default: enabled except lineups)
# Predictions: Fetches AI-powered predictions from API-Football for external model comparison
API_FOOTBALL_ENABLE_PREDICTIONS=true
# Team Stats: Fetches season statistics (form, goals, clean sheets) for both teams
API_FOOTBALL_ENABLE_TEAM_STATS=true
# Standings: Fetches league table positions for match context
API_FOOTBALL_ENABLE_STANDINGS=true
# Lineups: Fetches confirmed lineups ~1h before kickoff (default: disabled, requires manual trigger)
API_FOOTBALL_ENABLE_LINEUPS=false
# RapidAPI alternative (fallback)
RAPID_API_KEY=
RAPID_API_FOOTBALL_BASE_URL=https://api-football-v1.p.rapidapi.com/v3
RAPID_API_FOOTBALL_HOST=api-football-v1.p.rapidapi.com

# AI Usage Tracking Troubleshooting
# If AI usage is not being recorded in the database:
# 1. Verify DATABASE_URL is correct and accessible
# 2. Run the verification script: tsx scripts/verify-ai-usage-table.ts
# 3. Check the test endpoint: POST /api/admin/test-ai-usage
# 4. Monitor metrics: GET /api/admin/ai-usage-metrics
# 5. Check failed writes queue: GET /api/admin/failed-writes
# 6. Review application logs for "[AIUsageRecorder]" messages
